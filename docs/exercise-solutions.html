<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction to R for Natural Resource Scientists</title>
  <meta name="description" content="This is a first course in R Programming for Natural Resource Scientists. It was developed and has been primarily instructed at Auburn University.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Introduction to R for Natural Resource Scientists" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a first course in R Programming for Natural Resource Scientists. It was developed and has been primarily instructed at Auburn University." />
  <meta name="github-repo" content="bstaton1/au-r-workshop" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to R for Natural Resource Scientists" />
  
  <meta name="twitter:description" content="This is a first course in R Programming for Natural Resource Scientists. It was developed and has been primarily instructed at Auburn University." />
  

<meta name="author" content="Ben Staton">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="ch6.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-is-covered"><i class="fa fa-check"></i>What is Covered?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#data-sets"><i class="fa fa-check"></i>Data Sets</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#keyboard-shortcuts"><i class="fa fa-check"></i><b>0.1</b> Keyboard Shortcuts</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#development-of-this-book"><i class="fa fa-check"></i>Development of this Book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the Author</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="ch1.html"><a href="ch1.html"><i class="fa fa-check"></i><b>1</b> Introduction to the R Environment</a><ul>
<li class="chapter" data-level="" data-path="ch1.html"><a href="ch1.html#chapter-overview"><i class="fa fa-check"></i>Chapter Overview</a></li>
<li class="chapter" data-level="" data-path="ch1.html"><a href="ch1.html#before-you-begin-install-r-and-rstudio"><i class="fa fa-check"></i>Before You Begin: Install R and RStudio</a></li>
<li class="chapter" data-level="1.1" data-path="ch1.html"><a href="ch1.html#the-r-studio-interface"><i class="fa fa-check"></i><b>1.1</b> The R Studio Interface</a><ul>
<li class="chapter" data-level="1.1.1" data-path="ch1.html"><a href="ch1.html#write-some-simple-code"><i class="fa fa-check"></i><b>1.1.1</b> Write Some Simple Code</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="ch1.html"><a href="ch1.html#scripts"><i class="fa fa-check"></i><b>1.2</b> Saving Your Code: Scripts</a></li>
<li class="chapter" data-level="1.3" data-path="ch1.html"><a href="ch1.html#working-dir"><i class="fa fa-check"></i><b>1.3</b> The Working Directory</a></li>
<li class="chapter" data-level="1.4" data-path="ch1.html"><a href="ch1.html#r-object-types"><i class="fa fa-check"></i><b>1.4</b> R Object Types</a><ul>
<li class="chapter" data-level="1.4.1" data-path="ch1.html"><a href="ch1.html#functions"><i class="fa fa-check"></i><b>1.4.1</b> Functions</a></li>
<li class="chapter" data-level="1.4.2" data-path="ch1.html"><a href="ch1.html#vectors"><i class="fa fa-check"></i><b>1.4.2</b> Vectors</a></li>
<li class="chapter" data-level="1.4.3" data-path="ch1.html"><a href="ch1.html#matrices"><i class="fa fa-check"></i><b>1.4.3</b> Matrices</a></li>
<li class="chapter" data-level="1.4.4" data-path="ch1.html"><a href="ch1.html#data-frames"><i class="fa fa-check"></i><b>1.4.4</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="ch1.html"><a href="ch1.html#factors"><i class="fa fa-check"></i><b>1.5</b> Factors</a></li>
<li class="chapter" data-level="1.6" data-path="ch1.html"><a href="ch1.html#vector-math"><i class="fa fa-check"></i><b>1.6</b> Vector Math</a></li>
<li class="chapter" data-level="1.7" data-path="ch1.html"><a href="ch1.html#sub"><i class="fa fa-check"></i><b>1.7</b> Data Subsets/Queries</a></li>
<li class="chapter" data-level="" data-path="ch1.html"><a href="ch1.html#exercise-1a"><i class="fa fa-check"></i>Exercise 1A</a></li>
<li class="chapter" data-level="1.8" data-path="ch1.html"><a href="ch1.html#read"><i class="fa fa-check"></i><b>1.8</b> Read External Data Files</a></li>
<li class="chapter" data-level="1.9" data-path="ch1.html"><a href="ch1.html#data-summaries"><i class="fa fa-check"></i><b>1.9</b> Explore the Data Set</a></li>
<li class="chapter" data-level="1.10" data-path="ch1.html"><a href="ch1.html#logicalboolean-operators"><i class="fa fa-check"></i><b>1.10</b> Logical/Boolean Operators</a></li>
<li class="chapter" data-level="1.11" data-path="ch1.html"><a href="ch1.html#logsub"><i class="fa fa-check"></i><b>1.11</b> Logical Subsetting</a></li>
<li class="chapter" data-level="1.12" data-path="ch1.html"><a href="ch1.html#if-else-and-ifelse"><i class="fa fa-check"></i><b>1.12</b> if, else, and ifelse</a></li>
<li class="chapter" data-level="1.13" data-path="ch1.html"><a href="ch1.html#writing-output-files"><i class="fa fa-check"></i><b>1.13</b> Writing Output Files</a><ul>
<li class="chapter" data-level="1.13.1" data-path="ch1.html"><a href="ch1.html#csv-files"><i class="fa fa-check"></i><b>1.13.1</b> <code>.csv</code> Files</a></li>
<li class="chapter" data-level="1.13.2" data-path="ch1.html"><a href="ch1.html#saving-r-objects"><i class="fa fa-check"></i><b>1.13.2</b> Saving R Objects</a></li>
</ul></li>
<li class="chapter" data-level="1.14" data-path="ch1.html"><a href="ch1.html#user-funcs"><i class="fa fa-check"></i><b>1.14</b> User-Defined Functions</a></li>
<li class="chapter" data-level="" data-path="ch1.html"><a href="ch1.html#exercise-1b"><i class="fa fa-check"></i>Exercise 1B</a><ul>
<li class="chapter" data-level="" data-path="ch1.html"><a href="ch1.html#exercise-1b-bonus"><i class="fa fa-check"></i>Exercise 1B Bonus</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch2.html"><a href="ch2.html"><i class="fa fa-check"></i><b>2</b> Base R Plotting Basics</a><ul>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#chapter-overview-1"><i class="fa fa-check"></i>Chapter Overview</a></li>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#before-you-begin"><i class="fa fa-check"></i>Before You Begin</a></li>
<li class="chapter" data-level="2.1" data-path="ch2.html"><a href="ch2.html#r-plotting-lingo"><i class="fa fa-check"></i><b>2.1</b> R Plotting Lingo</a></li>
<li class="chapter" data-level="2.2" data-path="ch2.html"><a href="ch2.html#lower-level-plotting-functions"><i class="fa fa-check"></i><b>2.2</b> Lower Level Plotting Functions</a></li>
<li class="chapter" data-level="2.3" data-path="ch2.html"><a href="ch2.html#other-high-level-plotting-functions"><i class="fa fa-check"></i><b>2.3</b> Other High-Level Plotting Functions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="ch2.html"><a href="ch2.html#the-bar-graph"><i class="fa fa-check"></i><b>2.3.1</b> The Bar Graph</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="ch2.html"><a href="ch2.html#box-whisker"><i class="fa fa-check"></i><b>2.4</b> Box-and-Whisker Plots</a></li>
<li class="chapter" data-level="2.5" data-path="ch2.html"><a href="ch2.html#histograms"><i class="fa fa-check"></i><b>2.5</b> Histograms</a></li>
<li class="chapter" data-level="2.6" data-path="ch2.html"><a href="ch2.html#the-par-function"><i class="fa fa-check"></i><b>2.6</b> The <code>par</code> Function</a></li>
<li class="chapter" data-level="2.7" data-path="ch2.html"><a href="ch2.html#new-temporary-devices"><i class="fa fa-check"></i><b>2.7</b> New Temporary Devices</a></li>
<li class="chapter" data-level="2.8" data-path="ch2.html"><a href="ch2.html#multi-panel-plots"><i class="fa fa-check"></i><b>2.8</b> Multi-panel Plots</a></li>
<li class="chapter" data-level="2.9" data-path="ch2.html"><a href="ch2.html#legends"><i class="fa fa-check"></i><b>2.9</b> Legends</a></li>
<li class="chapter" data-level="2.10" data-path="ch2.html"><a href="ch2.html#exporting-plots"><i class="fa fa-check"></i><b>2.10</b> Exporting Plots</a><ul>
<li class="chapter" data-level="2.10.1" data-path="ch2.html"><a href="ch2.html#click-save"><i class="fa fa-check"></i><b>2.10.1</b> Click Save</a></li>
<li class="chapter" data-level="2.10.2" data-path="ch2.html"><a href="ch2.html#use-a-function-to-place-plot-in-a-new-file"><i class="fa fa-check"></i><b>2.10.2</b> Use a function to place plot in a new file</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="ch2.html"><a href="ch2.html#error-bars"><i class="fa fa-check"></i><b>2.11</b> Bonus Topic: Error Bars</a></li>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#ex2"><i class="fa fa-check"></i>Exercise 2</a><ul>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#exercise-2-bonus"><i class="fa fa-check"></i>EXERCISE 2 BONUS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ch3.html"><a href="ch3.html"><i class="fa fa-check"></i><b>3</b> Basic Statistics</a><ul>
<li class="chapter" data-level="" data-path="ch3.html"><a href="ch3.html#chapter-overview-2"><i class="fa fa-check"></i>Chapter Overview</a></li>
<li class="chapter" data-level="" data-path="ch3.html"><a href="ch3.html#before-you-begin-1"><i class="fa fa-check"></i>Before You Begin</a></li>
<li class="chapter" data-level="3.1" data-path="ch3.html"><a href="ch3.html#the-general-linear-model"><i class="fa fa-check"></i><b>3.1</b> The General Linear Model</a><ul>
<li class="chapter" data-level="3.1.1" data-path="ch3.html"><a href="ch3.html#regression"><i class="fa fa-check"></i><b>3.1.1</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="3.1.2" data-path="ch3.html"><a href="ch3.html#anova"><i class="fa fa-check"></i><b>3.1.2</b> ANOVA: Categorical predictors</a></li>
<li class="chapter" data-level="3.1.3" data-path="ch3.html"><a href="ch3.html#ancova-continuous-and-categorical-predictors"><i class="fa fa-check"></i><b>3.1.3</b> ANCOVA: Continuous and categorical predictors</a></li>
<li class="chapter" data-level="3.1.4" data-path="ch3.html"><a href="ch3.html#interactions"><i class="fa fa-check"></i><b>3.1.4</b> Interactions</a></li>
<li class="chapter" data-level="3.1.5" data-path="ch3.html"><a href="ch3.html#aic-model-selection"><i class="fa fa-check"></i><b>3.1.5</b> AIC Model Selection</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ch3.html"><a href="ch3.html#glms"><i class="fa fa-check"></i><b>3.2</b> The Generalized Linear Model</a><ul>
<li class="chapter" data-level="3.2.1" data-path="ch3.html"><a href="ch3.html#logis-regression"><i class="fa fa-check"></i><b>3.2.1</b> Logistic Regression</a></li>
<li class="chapter" data-level="3.2.2" data-path="ch3.html"><a href="ch3.html#aic-model-selection-1"><i class="fa fa-check"></i><b>3.2.2</b> AIC Model Selection</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ch3.html"><a href="ch3.html#dists"><i class="fa fa-check"></i><b>3.3</b> Probability Distributions</a></li>
<li class="chapter" data-level="3.4" data-path="ch3.html"><a href="ch3.html#nls"><i class="fa fa-check"></i><b>3.4</b> Bonus Topic: Non-linear Regression</a></li>
<li class="chapter" data-level="" data-path="ch3.html"><a href="ch3.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ch4.html"><a href="ch4.html"><i class="fa fa-check"></i><b>4</b> Simulation and Randomization</a><ul>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#chapter-overview-3"><i class="fa fa-check"></i>Chapter Overview</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#before-you-begin-2"><i class="fa fa-check"></i>Before You Begin</a></li>
<li class="chapter" data-level="4.1" data-path="ch4.html"><a href="ch4.html#layout-of-this-chapter"><i class="fa fa-check"></i><b>4.1</b> Layout of this chapter</a></li>
<li class="chapter" data-level="4.2" data-path="ch4.html"><a href="ch4.html#randomness"><i class="fa fa-check"></i><b>4.2</b> Introducing Randomness</a><ul>
<li class="chapter" data-level="4.2.1" data-path="ch4.html"><a href="ch4.html#random-deviates"><i class="fa fa-check"></i><b>4.2.1</b> Random deviates</a></li>
<li class="chapter" data-level="4.2.2" data-path="ch4.html"><a href="ch4.html#resampling"><i class="fa fa-check"></i><b>4.2.2</b> Resampling</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ch4.html"><a href="ch4.html#reproducing-randomness"><i class="fa fa-check"></i><b>4.3</b> Reproducing randomness</a></li>
<li class="chapter" data-level="4.4" data-path="ch4.html"><a href="ch4.html#replication"><i class="fa fa-check"></i><b>4.4</b> Replication</a><ul>
<li class="chapter" data-level="4.4.1" data-path="ch4.html"><a href="ch4.html#replicate"><i class="fa fa-check"></i><b>4.4.1</b> <code>replicate</code></a></li>
<li class="chapter" data-level="4.4.2" data-path="ch4.html"><a href="ch4.html#the-for-loop"><i class="fa fa-check"></i><b>4.4.2</b> The <code>for</code> loop</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="ch4.html"><a href="ch4.html#function-writing"><i class="fa fa-check"></i><b>4.5</b> Function Writing</a></li>
<li class="chapter" data-level="4.6" data-path="ch4.html"><a href="ch4.html#mc-summaries"><i class="fa fa-check"></i><b>4.6</b> Summarization</a><ul>
<li class="chapter" data-level="4.6.1" data-path="ch4.html"><a href="ch4.html#central-tendency"><i class="fa fa-check"></i><b>4.6.1</b> Central Tendency</a></li>
<li class="chapter" data-level="4.6.2" data-path="ch4.html"><a href="ch4.html#variability"><i class="fa fa-check"></i><b>4.6.2</b> Variability</a></li>
<li class="chapter" data-level="4.6.3" data-path="ch4.html"><a href="ch4.html#frequencies"><i class="fa fa-check"></i><b>4.6.3</b> Frequencies</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="ch4.html"><a href="ch4.html#sim-examples"><i class="fa fa-check"></i><b>4.7</b> Simulation-Based Examples</a><ul>
<li class="chapter" data-level="4.7.1" data-path="ch4.html"><a href="ch4.html#test-rnorm"><i class="fa fa-check"></i><b>4.7.1</b> Test <code>rnorm</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="ch4.html"><a href="ch4.html#power-ex"><i class="fa fa-check"></i><b>4.7.2</b> Stochastic Power Analysis</a></li>
<li class="chapter" data-level="4.7.3" data-path="ch4.html"><a href="ch4.html#harv-ex"><i class="fa fa-check"></i><b>4.7.3</b> Harvest Policy Analysis</a></li>
<li class="chapter" data-level="4.7.4" data-path="ch4.html"><a href="ch4.html#mrc-ex"><i class="fa fa-check"></i><b>4.7.4</b> Mark-Recapture Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="ch4.html"><a href="ch4.html#resample-examples"><i class="fa fa-check"></i><b>4.8</b> Resampling-Based Examples</a><ul>
<li class="chapter" data-level="4.8.1" data-path="ch4.html"><a href="ch4.html#perm-test-ex"><i class="fa fa-check"></i><b>4.8.1</b> Permutation Test</a></li>
<li class="chapter" data-level="4.8.2" data-path="ch4.html"><a href="ch4.html#boot-test-ex"><i class="fa fa-check"></i><b>4.8.2</b> The Bootstrap</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="ch4.html"><a href="ch4.html#exercise-4"><i class="fa fa-check"></i><b>4.9</b> Exercise 4</a><ul>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#exercise-4a-required-material-only"><i class="fa fa-check"></i>Exercise 4A: Required Material Only</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#exercise-4b-stochastic-power-analysis"><i class="fa fa-check"></i>Exercise 4B: Stochastic Power Analysis</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#exercise-4c-harvest-policy-analysis"><i class="fa fa-check"></i>Exercise 4C: Harvest Policy Analysis</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#exercise-4d-mark-recapture-evaluation"><i class="fa fa-check"></i>Exercise 4D: Mark-Recapture Evaluation</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#exercise-4e-permutation-tests"><i class="fa fa-check"></i>Exercise 4E: Permutation Tests</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#exercise-4f-the-bootstrap"><i class="fa fa-check"></i>Exercise 4F: The Bootstrap</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ch5.html"><a href="ch5.html"><i class="fa fa-check"></i><b>5</b> Large Data Manipulation</a><ul>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#chapter-overview-4"><i class="fa fa-check"></i>Chapter Overview</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#before-you-begin-3"><i class="fa fa-check"></i>Before You Begin</a></li>
<li class="chapter" data-level="5.1" data-path="ch5.html"><a href="ch5.html#aquiring-and-loading-packages"><i class="fa fa-check"></i><b>5.1</b> Aquiring and Loading Packages</a></li>
<li class="chapter" data-level="5.2" data-path="ch5.html"><a href="ch5.html#the-data"><i class="fa fa-check"></i><b>5.2</b> The Data</a></li>
<li class="chapter" data-level="5.3" data-path="ch5.html"><a href="ch5.html#change-format-using-melt"><i class="fa fa-check"></i><b>5.3</b> Change format using <code>melt</code></a></li>
<li class="chapter" data-level="5.4" data-path="ch5.html"><a href="ch5.html#join-data-sets-with-merge"><i class="fa fa-check"></i><b>5.4</b> Join Data Sets with <code>merge</code></a></li>
<li class="chapter" data-level="5.5" data-path="ch5.html"><a href="ch5.html#lagged-vectors"><i class="fa fa-check"></i><b>5.5</b> Lagged vectors</a></li>
<li class="chapter" data-level="5.6" data-path="ch5.html"><a href="ch5.html#adding-columns-with-mutate"><i class="fa fa-check"></i><b>5.6</b> Adding columns with <code>mutate</code></a></li>
<li class="chapter" data-level="5.7" data-path="ch5.html"><a href="ch5.html#apply-to-all-years"><i class="fa fa-check"></i><b>5.7</b> Apply to all years</a></li>
<li class="chapter" data-level="5.8" data-path="ch5.html"><a href="ch5.html#calculate-daily-means-with-summarize"><i class="fa fa-check"></i><b>5.8</b> Calculate Daily Means with <code>summarize</code></a></li>
<li class="chapter" data-level="5.9" data-path="ch5.html"><a href="ch5.html#more-summarize"><i class="fa fa-check"></i><b>5.9</b> More <code>summarize</code></a></li>
<li class="chapter" data-level="5.10" data-path="ch5.html"><a href="ch5.html#fit-the-model"><i class="fa fa-check"></i><b>5.10</b> Fit the Model</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#exercise-5"><i class="fa fa-check"></i>Exercise 5</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#exercise-5-bonus"><i class="fa fa-check"></i>Exercise 5 Bonus</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ch6.html"><a href="ch6.html"><i class="fa fa-check"></i><b>6</b> Mapping and Spatial Analysis</a><ul>
<li class="chapter" data-level="6.1" data-path="ch6.html"><a href="ch6.html#fsec"><i class="fa fa-check"></i><b>6.1</b> This is the First Section</a><ul>
<li class="chapter" data-level="6.1.1" data-path="ch6.html"><a href="ch6.html#a-subsection-of-the-first-section"><i class="fa fa-check"></i><b>6.1.1</b> A subsection of the First Section</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="ch6.html"><a href="ch6.html#this-is-the-second-section"><i class="fa fa-check"></i><b>6.2</b> This is the Second Section</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html"><i class="fa fa-check"></i>Exercise Solutions</a><ul>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex1a-answers"><i class="fa fa-check"></i>Exercise 1A Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex1b-answers"><i class="fa fa-check"></i>Exercise 1B Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex2-answers"><i class="fa fa-check"></i>Exercise 2 Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex3-answers"><i class="fa fa-check"></i>Exercise 3 Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex4a-answers"><i class="fa fa-check"></i>Exercise 4A Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex4b-answers"><i class="fa fa-check"></i>Exercise 4B Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex4c-answers"><i class="fa fa-check"></i>Exercise 4C Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex4d-answers"><i class="fa fa-check"></i>Exercise 4D Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex4e-answers"><i class="fa fa-check"></i>Exercise 4E Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex4f-answers"><i class="fa fa-check"></i>Exercise 4F Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex5-answers"><i class="fa fa-check"></i>Exercise 5 Solutions</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#ex6-answers"><i class="fa fa-check"></i>Exercise 6 Solutions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R for Natural Resource Scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise-solutions" class="section level1 unnumbered">
<h1>Exercise Solutions</h1>
<div id="ex1a-answers" class="section level2 unnumbered">
<h2>Exercise 1A Solutions</h2>
<p><strong>1. Create a new file in your working directory called <code>Ex1A.R</code>.</strong></p>
<p>Go to <em>File &gt; New File &gt; R Script</em>. This will create an untitled R script. Go the <em>File &gt; Save</em>, give it the appropriate name and click <em>Save</em>. If your working directory is already set to <code>C:/Users/YOU/Documents/R-Workshop/Chapter 1</code>, then the file will be saved there by default.</p>
<p>You can create a new script using <strong>CTRL + SHIFT + N</strong> as well.</p>
<p><strong>2. Enter these data into vectors. Call the vectors whatever you would like. Should you enter the data as vectors by rows, or by columns? (Hint: remember the properties of vectors).</strong></p>
<p>Because you have both numeric and character data classes for a single row, you should enter them by columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Lake =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Big&quot;</span>, <span class="st">&quot;Small&quot;</span>, <span class="st">&quot;Square&quot;</span>, <span class="st">&quot;Circle&quot;</span>)
Area =<span class="st"> </span><span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">25</span>, <span class="dv">45</span>, <span class="dv">30</span>)
Time =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">1200</span>, <span class="dv">1400</span>, <span class="dv">1600</span>)
Fish =<span class="st"> </span><span class="kw">c</span>(<span class="dv">643</span>, <span class="dv">203</span>, <span class="dv">109</span>, <span class="dv">15</span>)</code></pre></div>
<p><strong>3. Combine your vectors into a data frame. Why should you use a data frame instead of a matrix?</strong></p>
<p>You should use a data frame because, unlike matrices, they can store multiple data classes in the different columns. Refer back the sections on matrices (Section <a href="ch1.html#matrices">1.4.3</a>) and data frames (Section <a href="ch1.html#data-frames">1.4.4</a>) for more details.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df =<span class="st"> </span><span class="kw">data.frame</span>(Lake, Area, Time, Fish)</code></pre></div>
<p><strong>4. Subset all of the data from Small Lake.</strong></p>
<p>Refer back to Section <a href="ch1.html#sub">1.7</a> for details on subsetting using indices and by column names, see Section <a href="ch1.html#logsub">1.11</a> for details on logical subsetting.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df[df<span class="op">$</span>Lake <span class="op">==</span><span class="st"> &quot;Small&quot;</span>,]
<span class="co"># or</span>
df[<span class="dv">3</span>,]</code></pre></div>
<p><strong>5. Subset the area for all of the lakes.</strong></p>
<p>Refer to the suggestions for question 4 for more details.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df<span class="op">$</span>Area
<span class="co"># or</span>
df[,<span class="dv">2</span>]</code></pre></div>
<p><strong>6. Subset the number of fish for Big and Square Lakes only.</strong></p>
<p>Refer to the suggestions for question 4 for more details.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df[df<span class="op">$</span>Lake <span class="op">==</span><span class="st"> &quot;Big&quot;</span> <span class="op">|</span><span class="st"> </span>df<span class="op">$</span>Lake <span class="op">==</span><span class="st"> &quot;Square&quot;</span>,<span class="st">&quot;Fish&quot;</span>]
<span class="co"># or</span>
df<span class="op">$</span>Fish[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</code></pre></div>
<p><strong>7. You realize that you sampled 209 fish at Square Lake, not 109. Fix the mistake. There are two ways to do this, can you think of them both? Which do you think is better?</strong></p>
<p>The two methods are:</p>
<ul>
<li>Fix the mistake in the first place it appears: when you made the <code>Fish</code> vector. If you change it there, all other instances in your code where you use the <code>Fish</code> object will be fixed after you re-run everything.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Fish =<span class="st"> </span><span class="kw">c</span>(<span class="dv">643</span>, <span class="dv">203</span>, <span class="dv">209</span>, <span class="dv">15</span>)
<span class="co"># re-run the rest of your code and see the error was fixed</span></code></pre></div>
<ul>
<li>Fix the cell in the data frame only:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df[df<span class="op">$</span>Lake <span class="op">==</span><span class="st"> &quot;Square&quot;</span>,<span class="st">&quot;Fish&quot;</span>] =<span class="st"> </span><span class="dv">209</span></code></pre></div>
<p>The second method would only fix the data frame, so if you wanted to use the vector <code>Fish</code> outside of the data frame, the error would still be present. For this reason, the first method is likely better.</p>
<p><strong>8. Save your script. Close RStudio and re-open your script to see that it was saved</strong>.</p>
<p><em>File &gt; Save</em> or <strong>CTRL + S</strong></p>
</div>
<div id="ex1b-answers" class="section level2 unnumbered">
<h2>Exercise 1B Solutions</h2>
<p>First, did you find the error? It is the <code>#VALUE!</code> entry in the <code>chao</code> column. You should have R treat this as an <code>NA</code>. The two easiest ways to do this are to either enter <code>NA</code> in that cell or delete its contents. You can do this easily by opening <code>ponds.csv</code> in Microsoft Excel or some other spreadsheet editor.</p>
<p><strong>1. Read in the data to R and assign it to an object.</strong></p>
<p>After downloading <code>ponds.csv</code> to your working directory and creating <code>Ex1B.R</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;ponds.csv&quot;</span>)</code></pre></div>
<p><strong>2. Calculate some basic summary statistics of your data using the <code>summary</code> function.</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(dat)</code></pre></div>
<p><strong>3. Calculate the mean chlorophyll <em>a</em> for each pond (<em>Hint: pond is a grouping variable</em>).</strong></p>
<p>Remember the <code>tapply</code> function. The first argument is the variable you wish to calculate a statistic for (chlorophyll), the second argument is the grouping variable (pond), and the third argument is the function you wish to apply.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tapply</span>(dat<span class="op">$</span>chl.a, dat<span class="op">$</span>pond, mean)</code></pre></div>
<p><strong>4. Calculate the mean number of <em>Chaoborus</em> for each treatment in each pond using <code>tapply</code>. (<em>Hint: You can group by two variables with:</em> <code>tapply(dat$var, list(dat$grp1, dat$grp2), fun)</code>.</strong></p>
<p>The hint pretty much gives this one away:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tapply</span>(dat<span class="op">$</span>chao, <span class="kw">list</span>(dat<span class="op">$</span>pond, dat<span class="op">$</span>treatment), mean)</code></pre></div>
<p><strong>5. Use the more general <code>apply</code> function to calculate the variance for each zooplankton taxa found only in pond S-28.</strong></p>
<p>First, subset only the correct pond and the zooplankton counts. Then, specify you want the <code>var</code> function applied to the second dimension (columns). Finally, because <code>chao</code> has an <code>NA</code>, you’ll need to include the <code>na.rm = T</code> argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(dat[dat<span class="op">$</span>pond <span class="op">==</span><span class="st"> &quot;S.28&quot;</span>,<span class="kw">c</span>(<span class="st">&quot;daph&quot;</span>, <span class="st">&quot;bosm&quot;</span>, <span class="st">&quot;cope&quot;</span>, <span class="st">&quot;chao&quot;</span>)], <span class="dv">2</span>, var, <span class="dt">na.rm =</span> T)</code></pre></div>
<p><strong>6. Create a new variable called <code>prod</code> in the data frame that represents the quantity of chlorophyll <em>a</em> in each replicate. If the chlorophyll <em>a</em> in the replicate is greater than 30 give it a “high”, otherwise give it a “low”. (<em>Hint: are you asking a question of a single number or multiple numbers? How should this change the strategy you use?</em>)</strong></p>
<p>Remember, you can add a new column to a data set using the <code>df$new_column = something()</code>. If the column <code>new_column</code> doesn’t exist, it will be added. If it exists already, it will be written over. You can use <code>ifelse</code> (not <code>if</code>!) to ask if each chlorophyll measurement was greater or less than 30, and to do something differently based on the result:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat<span class="op">$</span>prod =<span class="st"> </span><span class="kw">ifelse</span>(dat<span class="op">$</span>chl.a <span class="op">&gt;</span><span class="st"> </span><span class="dv">30</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>)</code></pre></div>
<p><strong>Bonus 1. Use <code>?table</code> to figure out how you can use <code>table</code> to count how many observations of high and low there were in each treatment (<em>Hint: <code>table</code> will have only two arguments.</em>).</strong></p>
<p>After looking through the help file, you should have seen that <code>table</code> has a <code>...</code> as its first argument. After reading about what it takes there, you would see it is expecting:</p>
<blockquote>
<p>one or more objects which can be interpretted as factors (including character strings)…</p>
</blockquote>
<p>So if you ran:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(dat<span class="op">$</span>prod, dat<span class="op">$</span>treatment)</code></pre></div>
<pre><code>##       
##        Add Control
##   high   8       0
##   low    2      10</code></pre>
<p>You would get a table showing how many high and low chlorophyll observations were made for each treatment.</p>
<p><strong>Bonus 2. Create a new function called <code>product</code> that multiplies any two numbers you specify.</strong></p>
<p>See Section <a href="ch1.html#user-funcs">1.14</a> for more details on user-defined functions. Your function might look like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">product =<span class="st"> </span><span class="cf">function</span>(a,b) {
  a <span class="op">*</span><span class="st"> </span>b
}

<span class="kw">product</span>(<span class="dv">4</span>,<span class="dv">5</span>)</code></pre></div>
<pre><code>## [1] 20</code></pre>
<p><strong>Bonus 3. Modify your function to print a message to the console and return the value <code>if</code> it meets a condition and to print another message and not return the value if it doesn’t.</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">product =<span class="st"> </span><span class="cf">function</span>(a,b,z) {
  result =<span class="st"> </span>a <span class="op">*</span><span class="st"> </span>b
  
  <span class="cf">if</span> (result <span class="op">&lt;=</span><span class="st"> </span>z) {
    <span class="kw">cat</span>(<span class="st">&quot;The result of a * b is less than&quot;</span>, z, <span class="st">&quot;so you don&#39;t care what it is&quot;</span>)
  } <span class="cf">else</span> {
    <span class="kw">cat</span>(<span class="st">&quot;The result of a * b is&quot;</span>, result, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
    result
  }
}

<span class="kw">product</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">19</span>)</code></pre></div>
<pre><code>## The result of a * b is 20</code></pre>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">product</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">30</span>)</code></pre></div>
<pre><code>## The result of a * b is less than 30 so you don&#39;t care what it is</code></pre>
<p>The use of <code>cat</code> here is similar to <code>print</code>, but it is better for printing messages to the console.</p>
</div>
<div id="ex2-answers" class="section level2 unnumbered">
<h2>Exercise 2 Solutions</h2>
</div>
<div id="ex3-answers" class="section level2 unnumbered">
<h2>Exercise 3 Solutions</h2>
</div>
<div id="ex4a-answers" class="section level2 unnumbered">
<h2>Exercise 4A Solutions</h2>
</div>
<div id="ex4b-answers" class="section level2 unnumbered">
<h2>Exercise 4B Solutions</h2>
</div>
<div id="ex4c-answers" class="section level2 unnumbered">
<h2>Exercise 4C Solutions</h2>
</div>
<div id="ex4d-answers" class="section level2 unnumbered">
<h2>Exercise 4D Solutions</h2>
</div>
<div id="ex4e-answers" class="section level2 unnumbered">
<h2>Exercise 4E Solutions</h2>
</div>
<div id="ex4f-answers" class="section level2 unnumbered">
<h2>Exercise 4F Solutions</h2>
</div>
<div id="ex5-answers" class="section level2 unnumbered">
<h2>Exercise 5 Solutions</h2>
</div>
<div id="ex6-answers" class="section level2 unnumbered">
<h2>Exercise 6 Solutions</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch6.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/07-exercise-solutions.rmd",
"text": "Edit"
},
"download": ["au-r-workshop.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
